<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bruno - API Documentation</title>
    <style>
        body { margin: 0; padding: 0; }
        #opencollection-container { width: 100vw; height: 100vh; }
    </style>
    <link rel="stylesheet" href="https://cdn.opencollection.com/docs.css">
    <script src="https://cdn.opencollection.com/docs.js"></script>
</head>
<body>
    <div id="opencollection-container"></div>
    <script>
        const collectionData = "opencollection: 1.0.0\ninfo:\n  name: Bruno\nitems:\n  - info:\n      name: Auth\n      type: http\n      seq: 2\n    http:\n      method: POST\n      url: https://127.0.0.1:8000/auth\n      body:\n        type: json\n        data: |\n          {\n            \"email\": \"test@gmail.com\",\n            \"password\": \"123\"\n          }\n      auth: inherit\n    settings:\n      encodeUrl: true\n      timeout: 0\n      followRedirects: true\n      maxRedirects: 5\n  - info:\n      name: reviews\n      type: folder\n      seq: 3\n    request:\n      auth: inherit\n    items:\n      - info:\n          name: review\n          type: http\n          seq: 3\n        http:\n          method: GET\n          url: https://127.0.0.1:8000/api/reviews/{id}\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: reviewList\n          type: http\n          seq: 2\n        http:\n          method: GET\n          url: https://127.0.0.1:8000/api/reviews\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: reviews\n          type: http\n          seq: 2\n        http:\n          method: POST\n          url: https://127.0.0.1:8000/api/reviews\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: reviewsDelete\n          type: http\n          seq: 2\n        http:\n          method: DELETE\n          url: https://127.0.0.1:8000/api/reviews/{id}\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: reviewsEstate\n          type: http\n          seq: 2\n        http:\n          method: GET\n          url: https://127.0.0.1:8000/api/estates/{id}/reviews\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: reviewUpdate\n          type: http\n          seq: 2\n        http:\n          method: PATCH\n          url: https://127.0.0.1:8000/api/reviews/{id}\n          auth: inherit\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n  - info:\n      name: estates\n      type: folder\n      seq: 1\n    request:\n      auth: inherit\n    items:\n      - info:\n          name: estate\n          type: http\n          seq: 2\n        http:\n          method: GET\n          url: https://127.0.0.1:8000/api/estates/1\n          headers:\n            - name: Authorization\n              value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3NzAwNDEzMTcsImV4cCI6MTc3MDA0NDkxNywicm9sZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InRlc3RAZ21haWwuY29tIn0.Kc6CV4Lv1FgCBYA5nlfT26iUD_KUD4epmD_mP72Y0ebihtKu5QMiRguqdSMuUZIYHnQxl2DyHlyDqmVBncHuzgAjgtXxPKM2pRR1yK_aZBd_fj7Q33ky9ywdUGIn0NQAJw8u4eXUSgUHTgyKmlJyLaI_R0-7N1YKeKhAcLVNBpevE1PTxSZhS-R7UUYpDwhW--Dzvl3LJeTtv82c2_8qshUweHriVFIMrGhiYyP3-SHl_FiybXKCaLLEl0-smMBwaerHIJ0i28_RZRerUq81F1FYmbIgBCPxigIv-Z06umIq1SQ2H_P4DAGnm40c6x6KJCquNMHwuxA5ngQmRiqSNQ\n          auth: inherit\n        runtime:\n          scripts:\n            - type: tests\n              code: |-\n                test(\"Statut doit \xEAtre 200\", function () {\n                  expect(res.getStatus()).to.equal(200);\n                });\n\n                test(\"Content-Type application/ld+json\", function () {\n                  expect(res.getHeader(\"content-type\")).to.contain(\"application/ld+json\");\n                });\n\n                test(\"R\xE9ponse rapide < 800ms\", function () {\n                  expect(res.getResponseTime()).to.be.below(800);\n                });\n\n                test(\"Structure Estate ApiPlatform\", function () {\n                  const estate = res.getBody();\n                  expect(estate).to.have.property(\"@context\").that.equals(\"/api/contexts/Estate\");\n                  expect(estate).to.have.property(\"@id\").that.equals(\"/api/estates/1\");\n                  expect(estate).to.have.property(\"@type\").that.equals(\"Estate\");\n                });\n\n                test(\"Champs Estate complets\", function () {\n                  const estate = res.getBody();\n                  expect(estate.id).to.equal(1);\n                  expect(estate.name).to.equal(\"Maison\");\n                  expect(estate.city).to.equal(\"Paris\");\n                  expect(estate.price).to.equal(10000000000);\n                  expect(estate.state).to.equal(\"Location\");\n                  expect(estate.reviews).to.be.an(\"array\").with.lengthOf(1);\n                  expect(estate.reviews[0]).to.equal(\"/api/reviews/1\");\n                });\n\n                test(\"Donn\xE9es Estate coh\xE9rentes\", function () {\n                  const estate = res.getBody();\n                  expect(estate.price).to.be.a(\"number\").and.above(0);\n                  expect(estate.name).to.have.length.above(2);\n                  expect(estate.city).to.match(/^[a-zA-Z\xC0-\xFF\\s\\-]+$/);\n                  expect(estate.state).to.be.oneOf([\"Location\", \"Achat\", \"Vente\"]);\n                });\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: estateList\n          type: http\n          seq: 1\n        http:\n          method: GET\n          url: https://127.0.0.1:8000/api/estates\n          headers:\n            - name: Authorization\n              value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3NzAwNDEzMTcsImV4cCI6MTc3MDA0NDkxNywicm9sZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InRlc3RAZ21haWwuY29tIn0.Kc6CV4Lv1FgCBYA5nlfT26iUD_KUD4epmD_mP72Y0ebihtKu5QMiRguqdSMuUZIYHnQxl2DyHlyDqmVBncHuzgAjgtXxPKM2pRR1yK_aZBd_fj7Q33ky9ywdUGIn0NQAJw8u4eXUSgUHTgyKmlJyLaI_R0-7N1YKeKhAcLVNBpevE1PTxSZhS-R7UUYpDwhW--Dzvl3LJeTtv82c2_8qshUweHriVFIMrGhiYyP3-SHl_FiybXKCaLLEl0-smMBwaerHIJ0i28_RZRerUq81F1FYmbIgBCPxigIv-Z06umIq1SQ2H_P4DAGnm40c6x6KJCquNMHwuxA5ngQmRiqSNQ\n          params:\n            - name: ''\n              value: ''\n              type: query\n          auth: inherit\n        runtime:\n          scripts:\n            - type: tests\n              code: |-\n                test(\"Statut doit \xEAtre 200\", function () {\n                  expect(res.getStatus()).to.equal(200);\n                });\n\n                test(\"Content-Type application/ld+json\", function () {\n                  expect(res.getHeader(\"content-type\")).to.contain(\"application/ld+json\");\n                });\n\n                test(\"R\xE9ponse rapide < 800ms\", function () {\n                  expect(res.getResponseTime()).to.be.below(800);\n                });\n\n\n                test(\"Structure ApiPlatform correcte\", function () {\n                  const body = res.getBody();\n                  expect(body).to.have.property(\"@context\");\n                  expect(body).to.have.property(\"@id\").that.equals(\"/api/estates\");\n                  expect(body).to.have.property(\"@type\").that.equals(\"Collection\");\n                  expect(body).to.have.property(\"totalItems\").that.equals(2);\n                  expect(body).to.have.property(\"member\").that.is.an(\"array\");\n                });\n\n                test(\"Structure estates compl\xE8te\", function () {\n                  const body = res.getBody();\n                  const estates = body.member;\n                  \n                  expect(estates).to.have.lengthOf(2);\n                  \n                  estates.forEach((estate, index) => {\n                    expect(estate).to.have.property(\"@id\");\n                    expect(estate).to.have.property(\"@type\").that.equals(\"Estate\");\n                    expect(estate.id).to.be.a(\"number\");\n                    expect(estate.name).to.be.a(\"string\").and.not.empty;\n                    expect(estate.city).to.be.a(\"string\").and.not.empty;\n                    expect(estate.price).to.be.a(\"number\");\n                    expect(estate.state).to.be.a(\"string\");\n                    expect(estate.reviews).to.be.an(\"array\");\n                  });\n                });\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: estates\n          type: http\n          seq: 2\n        http:\n          method: POST\n          url: https://127.0.0.1:8000/api/estates\n          headers:\n            - name: Authorization\n              value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3NzAwNDEzMTcsImV4cCI6MTc3MDA0NDkxNywicm9sZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InRlc3RAZ21haWwuY29tIn0.Kc6CV4Lv1FgCBYA5nlfT26iUD_KUD4epmD_mP72Y0ebihtKu5QMiRguqdSMuUZIYHnQxl2DyHlyDqmVBncHuzgAjgtXxPKM2pRR1yK_aZBd_fj7Q33ky9ywdUGIn0NQAJw8u4eXUSgUHTgyKmlJyLaI_R0-7N1YKeKhAcLVNBpevE1PTxSZhS-R7UUYpDwhW--Dzvl3LJeTtv82c2_8qshUweHriVFIMrGhiYyP3-SHl_FiybXKCaLLEl0-smMBwaerHIJ0i28_RZRerUq81F1FYmbIgBCPxigIv-Z06umIq1SQ2H_P4DAGnm40c6x6KJCquNMHwuxA5ngQmRiqSNQ\n          body:\n            type: json\n            data: |-\n              {\n                \"name\": \"Appartement\",\n                \"city\": \"Lyon\",\n                \"price\": 250000,\n                \"state\": \"Achat\"\n              }\n          auth: inherit\n        runtime:\n          scripts:\n            - type: tests\n              code: |-\n                test(\"Statut doit \xEAtre 201 Created\", function () {\n                  expect(res.getStatus()).to.equal(201);\n                });\n\n                test(\"Content-Type application/ld+json\", function () {\n                  expect(res.getHeader(\"content-type\")).to.contain(\"application/ld+json\");\n                });\n\n                test(\"Header Location avec nouvel ID\", function () {\n                  const location = res.getHeader(\"location\");\n                  expect(location).to.exist.and.match(/\\/api\\/estates\\/\\d+$/);\n                });\n\n                test(\"Structure Estate cr\xE9\xE9 correcte\", function () {\n                  const estate = res.getBody();\n                  expect(estate).to.have.property(\"@context\").that.equals(\"/api/contexts/Estate\");\n                  expect(estate).to.have.property(\"@id\").that.match(/\\/api\\/estates\\/\\d+$/);\n                  expect(estate).to.have.property(\"@type\").that.equals(\"Estate\");\n                  expect(estate.id).to.be.a(\"number\").and.above(0);\n                });\n\n\n                test(\"Donn\xE9es saisies bien sauvegard\xE9es\", function () {\n                  const estate = res.getBody();\n                  expect(estate.name).to.equal(\"Appartement\");\n                  expect(estate.city).to.equal(\"Lyon\");\n                  expect(estate.price).to.equal(250000);\n                  expect(estate.state).to.equal(\"Achat\");\n                  expect(estate.reviews).to.be.an(\"array\").that.is.empty;\n                });\n\n\n                test(\"Estate coh\xE9rent\", function () {\n                  const estate = res.getBody();\n                  expect(estate.price).to.be.above(0);\n                  expect(estate.name).to.have.length.above(2);\n                  expect(estate.city).to.match(/^[a-zA-Z\xC0-\xFF\\s\\-]+$/);\n                });\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: estatesDelete\n          type: http\n          seq: 2\n        http:\n          method: DELETE\n          url: https://127.0.0.1:8000/api/estates/1\n          headers:\n            - name: Authorization\n              value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3NzAwNDEzMTcsImV4cCI6MTc3MDA0NDkxNywicm9sZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InRlc3RAZ21haWwuY29tIn0.Kc6CV4Lv1FgCBYA5nlfT26iUD_KUD4epmD_mP72Y0ebihtKu5QMiRguqdSMuUZIYHnQxl2DyHlyDqmVBncHuzgAjgtXxPKM2pRR1yK_aZBd_fj7Q33ky9ywdUGIn0NQAJw8u4eXUSgUHTgyKmlJyLaI_R0-7N1YKeKhAcLVNBpevE1PTxSZhS-R7UUYpDwhW--Dzvl3LJeTtv82c2_8qshUweHriVFIMrGhiYyP3-SHl_FiybXKCaLLEl0-smMBwaerHIJ0i28_RZRerUq81F1FYmbIgBCPxigIv-Z06umIq1SQ2H_P4DAGnm40c6x6KJCquNMHwuxA5ngQmRiqSNQ\n          auth: inherit\n        runtime:\n          scripts:\n            - type: tests\n              code: |-\n                test(\"DELETE - Statut 204 No Content\", function () {\n                  expect(res.getStatus()).to.equal(204);\n                });\n\n\n                test(\"DELETE - Corps vide\", function () {\n                  expect(res.getBody()).to.be.empty;\n                });\n\n\n                test(\"DELETE - Content-Type correct\", function () {\n                  expect(res.getHeader(\"content-type\")).to.contain(\"application/ld+json\");\n                });\n\n                test(\"DELETE - R\xE9ponse rapide\", function () {\n                  expect(res.getResponseTime()).to.be.below(500);\n                });\n\n\n                test(\"DELETE - V\xE9rification m\xE9tier\", function () {\n                  // Le 204 confirme la suppression\n                  expect(res.getStatus()).to.equal(204);\n                });\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\n      - info:\n          name: estateUpdate\n          type: http\n          seq: 2\n        http:\n          method: PATCH\n          url: https://127.0.0.1:8000/api/estates/1\n          headers:\n            - name: Authorization\n              value: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE3NzAwNDEzMTcsImV4cCI6MTc3MDA0NDkxNywicm9sZXMiOlsiUk9MRV9BRE1JTiIsIlJPTEVfVVNFUiJdLCJ1c2VybmFtZSI6InRlc3RAZ21haWwuY29tIn0.Kc6CV4Lv1FgCBYA5nlfT26iUD_KUD4epmD_mP72Y0ebihtKu5QMiRguqdSMuUZIYHnQxl2DyHlyDqmVBncHuzgAjgtXxPKM2pRR1yK_aZBd_fj7Q33ky9ywdUGIn0NQAJw8u4eXUSgUHTgyKmlJyLaI_R0-7N1YKeKhAcLVNBpevE1PTxSZhS-R7UUYpDwhW--Dzvl3LJeTtv82c2_8qshUweHriVFIMrGhiYyP3-SHl_FiybXKCaLLEl0-smMBwaerHIJ0i28_RZRerUq81F1FYmbIgBCPxigIv-Z06umIq1SQ2H_P4DAGnm40c6x6KJCquNMHwuxA5ngQmRiqSNQ\n          body:\n            type: json\n            data: |\n              {\n                \"price\": 300000,\n                \"state\": \"Vente\"\n              }\n          auth: inherit\n        runtime:\n          scripts:\n            - type: tests\n              code: |-\n                test(\"PATCH - Statut 200 OK\", function () {\n                  expect(res.getStatus()).to.equal(200);\n                });\n\n                test(\"PATCH - Structure Estate correcte\", function () {\n                  const estate = res.getBody();\n                  expect(estate).to.have.property(\"@context\").that.equals(\"/api/contexts/Estate\");\n                  expect(estate).to.have.property(\"@id\").that.equals(\"/api/estates/1\");\n                  expect(estate).to.have.property(\"@type\").that.equals(\"Estate\");\n                });\n\n\n                test(\"PATCH - Donn\xE9es mises \xE0 jour\", function () {\n                  const estate = res.getBody();\n                  expect(estate.id).to.equal(1);\n                  expect(estate.name).to.equal(\"Maison\");  \n                  expect(estate.price).to.equal(300000);   \n                  expect(estate.state).to.equal(\"Vente\");  \n                  expect(estate.city).to.equal(\"Paris\");   \n                });\n\n\n                test(\"PATCH - Champs pr\xE9serv\xE9s\", function () {\n                  const estate = res.getBody();\n                  expect(estate.name).to.equal(\"Maison\"); \n                  expect(estate.city).to.equal(\"Paris\"); \n                });\n\n\n                test(\"PATCH - R\xE9ponse rapide\", function () {\n                  expect(res.getResponseTime()).to.be.below(800);\n                });\n\n\n                test(\"PATCH - Relations pr\xE9serv\xE9es\", function () {\n                  const estate = res.getBody();\n                  expect(estate.reviews).to.be.an(\"array\");\n                });\n        settings:\n          encodeUrl: true\n          timeout: 0\n          followRedirects: true\n          maxRedirects: 5\nbundled: true\nextensions:\n  bruno:\n    ignore:\n      - node_modules\n      - .git\n    exportedAt: '2026-02-02T14:35:30.693Z'\n    exportedUsing: Bruno/3.0.2\n";
        new window.OpenCollection({
            target: document.getElementById('opencollection-container'),
            opencollection: collectionData,
            theme: 'light'
        });
    </script>
</body>
</html>